flow: FizzBuzz

operators:
  - id: FizzOperator
    descriptor: ./example-fizz/fizz.yml
  - id: BuzzOperator
    descriptor: ./example-buzz/buzz.yml
  - id: BuzzOperator2
    descriptor: ./example-buzz/buzz.yml
    configuration:
      buzzword: BUZZ-2
  - id: BuzzOperator3
    descriptor: ./example-buzz/buzz.yml
    configuration:
      buzzword: BUZZ-3

sources:
  - id: ManualSenderOperator
    descriptor: ./manual-source/manual-source.yml

sinks:
  - id: ReceiverOperator
    descriptor: ./generic-sink/generic-sink.yml

  - id: ReceiverOperator2
    descriptor: ./generic-sink/generic-sink.yml

  - id: ReceiverOperator3
    descriptor: ./generic-sink/generic-sink.yml

links:
  - from:
      node: ManualSenderOperator
      output: Int
    to:
      node: FizzOperator
      input: Int

  # FizzOperator -> BuzzOperator
  - from:
      node: FizzOperator
      output: Int
    to:
      node: BuzzOperator
      input: Int

  - from:
      node: FizzOperator
      output: Str
    to:
      node: BuzzOperator
      input: Str

  - from:
      node: BuzzOperator
      output: Str
    to:
      node: ReceiverOperator
      input: Data

  # FizzOperator -> BuzzOperator2
  - from:
      node: FizzOperator
      output: Int
    to:
      node: BuzzOperator2
      input: Int

  - from:
      node: FizzOperator
      output: Str
    to:
      node: BuzzOperator2
      input: Str

  - from:
      node: BuzzOperator2
      output: Str
    to:
      node: ReceiverOperator2
      input: Data

  # FizzOperator -> BuzzOperator3
  - from:
      node: FizzOperator
      output: Int
    to:
      node: BuzzOperator3
      input: Int

  - from:
      node: FizzOperator
      output: Str
    to:
      node: BuzzOperator3
      input: Str

  - from:
      node: BuzzOperator3
      output: Str
    to:
      node: ReceiverOperator3
      input: Data

mapping:
  ManualSenderOperator: foo
  FizzOperator: foo
  BuzzOperator: bar
  ReceiverOperator: bar
  BuzzOperator2: baz
  ReceiverOperator2: baz
  BuzzOperator3: foo
  ReceiverOperator3: foo
